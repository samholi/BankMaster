<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Module Tabs</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<style>
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		/* Body Styles */
		body {
			font-family: Arial, sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding-top: 60px;
			/* Space for the fixed navbar */
			padding-left: 200px;
			/* Space for the fixed menu */
		}

		/* Navbar Styles */
		.navbar {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 60px;
			background-color: #333;
			display: flex;
			align-items: center;
			padding: 0 20px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			z-index: 1100;
			/* Ensure navbar is on top */
		}

		.navbar .logo {
			max-height: 40px;
			margin-right: auto;
		}

		.navbar .logout-button a {
			display: inline-block;
			padding: 10px 20px;
			border-radius: 5px;
			background-color: #dc3545;
			color: white;
			text-decoration: none;
			transition: background-color 0.3s ease;
		}

		.navbar .logout-button a:hover {
			background-color: #c82333;
		}

		.navbar .user-icon {
			position: relative;
			margin-left: 20px;
		}

		.navbar .user-icon button {
			border: none;
			background-color: #007bff;
			color: white;
			border-radius: 50%;
			width: 40px;
			height: 40px;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 18px;
			cursor: pointer;
		}

		.navbar .user-icon .user-details {
			display: none;
			position: absolute;
			top: 100%;
			right: 0;
			background-color: #ffffff;
			border: 1px solid #ccc;
			border-radius: 5px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			padding: 10px;
			width: 200px;
			z-index: 1200;
			/* Higher z-index to ensure it overlaps other elements */
			margin: 16px auto;
		}

		.navbar .user-icon .user-details a {
			display: block;
			text-decoration: none;
			color: #007bff;
			margin-bottom: 10px;
		}

		.navbar .user-icon .user-details a:hover {
			text-decoration: underline;
		}

		.navbar .user-icon.active .user-details {
			display: block;
		}


		.secondary-navbar {
			position: fixed;
			top: 60px;
			left: 200px;
			/* Space from the menu container */
			width: calc(100% - 200px);
			/* Full width minus the menu width */
			height: 45px;
			background-color: #706c6c;
			color: white;
			display: flex;
			align-items: center;
			padding: 0 20px;
			z-index: 1050;
			text-align: center;
		}

		.secondary-navbar h3 {
			color: white;
			text-decoration: solid;
			margin-left: 575px;


		}

		/* Menu Container */
		.menu-container {
			position: fixed;
			top: 60px;
			left: 0;
			width: 200px;
			height: calc(100vh - 60px);
			background-color: #ffffff;
			box-shadow: 4px 0 8px rgba(0, 0, 0, 0.1);
			overflow-y: auto;
			z-index: 1000;
		}

		.menu-container ul {
			list-style-type: none;
			padding: 0;
			margin: 0;
		}

		.menu-container ul li {
			padding: 15px;
			border-bottom: 1px solid #ccc;
			text-align: center;
			background-color: #f8f9fa;
			cursor: pointer;
			transition: background-color 0.3s ease;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.menu-container ul li:hover {
			background-color: #e2e6ea;
		}

		.menu-container ul li a {
			text-decoration: none;
			color: #333;
			display: flex;
			align-items: center;
			width: 100%;
		}

		.menu-container ul li i {
			font-size: 18px;
			color: #333;
		}

		.dropdown-menu {
			position: relative;
			display: flex;
			align-items: center;
		}

		.dropdown-menu select {
			padding: 10px;
			border: none;
			background-color: #f8f9fa;
			font-size: 16px;
			cursor: pointer;
			border-radius: 5px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			outline: none;
		}

		.dropdown-menu select:hover {
			background-color: #e2e6ea;
		}

		/* Main Content Styles */
		.main-content {
			margin-left: 200px;
			/* Same as menu width */
			padding: 20px;
			position: relative;
		}
		
		
		
		
		        /* Search Customer Container */
        .container {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
            max-width: 990px;
            width: 30%;
            margin-top:50px;
            margin-left: 270px;
        }

        h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        input[type="text"] {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            width: 80%;
            margin-top: 10px;
        }

        .buttons button {
            width: 48%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            background-color: #007bff;
            color: white;
            transition: background-color 0.3s ease;
        }

        .buttons button.reset {
            background-color: #6c757d;
        }

        .buttons button:hover {
            background-color: #0056b3;
        }

        .buttons button.reset:hover {
            background-color: #5a6268;
        }





.task-options {
    display: none; /* Hidden by default */
    position: absolute;
    top: 100%; /* Position below the button */
    right: 0; /* Align with the right of the button */
    background-color: #f9f9f9;
    box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
    z-index: 1070;
    border-radius: 7px;
    width: 160px;
 
}

.task-option {
    padding: 12px 16px;
    color: #333;
    cursor: pointer;
    border-bottom: 1px solid #ccc;
    
}

.task-option:hover {
    background-color: #ddd;
}





.add-task-button {
    background-color: #4CAF50; /* Green background */
    color: white;
    border: none;
    padding: 5px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 4px;
    margin-bottom: 7px;
    margin-left: 1200px;
    
}
		
	</style>
</head>

<body>
	<!-- Navbar with Logo, Logout Button, and User Icon -->
	<div class="navbar">
		<img style="border-radius:10px;width: 50px;"
			src="https://media.licdn.com/dms/image/v2/D4D0BAQH8VdbyuY3QhA/company-logo_200_200/company-logo_200_200/0/1704270419417?e=2147483647&v=beta&t=QREDXpthLMxwOr3K-E9yNU-4jbZPAHGiPHMSGmv3pGQ"
			alt="Logo" class="logo">
		
		<div class="user-icon">
			<button onclick="toggleUserDetails(event)"><i class="fas fa-user"></i></button>
			<div class="user-details">
            <p><strong th:text="'Name: ' + ${user1.firstname} +' ' + ${user1.lastname}"></strong></p>
				<a th:href="@{/profile}">Profile</a>
				<a th:href="@{/settings}">Settings</a>
				<a th:href="@{/logout}">Logout</a>
			</div>
		</div>
	</div>

	<!-- Secondary Navbar -->
	<div class="secondary-navbar">
   <div class="nav-right">
        <button class="add-task-button" onclick="toggleTaskOptions()">Add Task</button>
        <div class="task-options" id="taskOptions" style="display: none;">
            <div class="task-option"><a  onclick="redirectToCustomer()">Add Customer</a></div>
            <div class="task-option"><a  onclick="redirectToOrganization()">Add Organization</a></div>
        </div>
    </div>
</div>

	<!-- Menu Container with Dropdown -->
	<div class="menu-container">
		<ul>
			<li class="dropdown-menu">
				<i class="fas fa-search"></i>
				<select onchange="handleDropdownChange(event)">
					<option value="/search-customer">Customer</option>
					<option value="/search-organization">Organization</option>
				</select>
			</li>
			<li><i class="fas fa-user"></i><a th:href="@{/user}">User</a></li>
			<li><i class="fas fa-file-alt"></i><a th:href="@{/report}">Report</a></li>
			<li><i class="fas fa-cogs"></i><a th:href="@{/setting}">Setting</a></li>
			<li><i class="fas fa-question-circle"></i><a th:href="@{/help}">Help</a></li>
		</ul>
	</div>



	<!-- Main Content Area -->
	<div class="main-content">
		<!-- Secondary Menu for Forms -->
		<div class="form-menu">
			<button class="active" onclick="showForm('basic-info')">Basic Info</button>
			<button onclick="showForm('account-details')">Account Details</button>
			<button onclick="showForm('education-details')">Education Details</button>
			<button onclick="showForm('upload-document')">Upload Document</button>
		</div>

		
		 <!-- Container with Search Form -->
    <div class="container">
        <center><h2>Search Customer</h2></center>
        <form action="/search" method="get">
            <input type="text" name="id" placeholder="Customer ID">
            <input type="text" name="firstname" placeholder="First Name">
            <input type="text" name="lastname" placeholder="Last Name">
            <input type="text" name="email" placeholder="Email">
            <input type="text" name="phone" placeholder="Phone Number"><br>
            <div class="buttons">
                <button type="submit">Search</button>
                <button type="reset" class="reset">Reset</button>
            </div>
        </form>
    </div>
		
		
		
		

	<!-- Scripts -->
	<script>
		function toggleUserDetails(event) {
			event.stopPropagation(); // Prevent the event from propagating to the document
			var userIcon = document.querySelector('.user-icon');
			userIcon.classList.toggle('active');
		}

		function handleDropdownChange(event) {
			var selectedValue = event.target.value;
			if (selectedValue) {
				window.location.href = selectedValue;
			}
		}

		// Close user details if clicking outside
		document.addEventListener('click', function (event) {
			var userIcon = document.querySelector('.user-icon');
			var userDetails = document.querySelector('.user-details');
			if (!userIcon.contains(event.target)) {
				userIcon.classList.remove('active');
			}
		});


		
//------------------------------------Add tas button options display ------------------------------

   function toggleTaskOptions() {
    const taskOptions = document.getElementById('taskOptions');
    if (taskOptions.style.display === 'none' || taskOptions.style.display === '') {
      taskOptions.style.display = 'block';
    } else {
      taskOptions.style.display = 'none';
    }
  }
  // Hide task options
function hideTaskOptions() {
    const taskOptions = document.getElementById('taskOptions');
    taskOptions.style.display = 'none';
}

function redirectToCustomer() {
        window.location.href = "/add_customer"; // Change this path to your add customer URL
    }

    function redirectToOrganization() {
        window.location.href = "/add_organization"; // Change this path to your add organization URL
    }


	</script>

</body>

</html>